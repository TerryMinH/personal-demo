<!--
 * @Author: TerryMin
 * @Date: 2019-12-26 10:01:02
 * @LastEditors: TerryMin
 * @LastEditTime: 2021-02-21 16:29:17
 * @Description: file not
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>前端三驾马车</title>
  <style>

  </style>

</head>

<body>
  <div id="main">
    <p>前端路由</p>
    <ul id="list">
      <li>angular</li>
      <li>vue</li>
      <li>react</li>
      <!-- <li><a href="#angular">angular</a></li>
      <li><a href="#vue">vue</a></li>
      <li><a href="#react">react</a></li> -->
    </ul>
    <div id="panel">fsasa</div>
  </div>
</body>
<script>
  window.onload = function () {
    window.onpopstate = function (event) {
      console.log(event);
    };
    window.onhashchange = function (event) {
      console.log(event);
      // console.log('hash has been changed to:' + location)
    };
    document.querySelector('#list').addEventListener('click', function (event) {
      console.log(event.target);
      if (event.target.nodeName == 'LI') {
        let content = event.target.innerHTML;
        let _newState = {
          url: location.origin + '/' + content,
          title: document.title,
          state: content
        };
        console.log(_newState)
        console.log('you have change the router to:', content)
        window.history.pushState(_newState, '', '/' + content);
       
      }
    })
  }
</script>

</html>